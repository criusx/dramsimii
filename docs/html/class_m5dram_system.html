<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>DRAMSimII: M5dramSystem Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>M5dramSystem Class Reference</h1><!-- doxytag: class="M5dramSystem" -->wrapper class to allow M5 to work with DRAMsimII  
<a href="#_details">More...</a>
<p>
<code>#include &lt;m5-dramSystem.h&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for M5dramSystem:</div>
<div class="dynsection">
<p><center><img src="class_m5dram_system__coll__graph.png" border="0" usemap="#_m5dram_system__coll__map" alt="Collaboration graph"></center>
<map name="_m5dram_system__coll__map">
<area shape="rect" href="class_d_r_a_m_sim_i_i_1_1_system.html" title="represents a DRAM system, the memory controller(s) and associated channels" alt="" coords="365,81,507,108"><area shape="rect" href="class_d_r_a_m_sim_i_i_1_1_input_stream.html" title="creates transactions in standalone mode, whether random or from a trace file" alt="" coords="35,5,200,32"><area shape="rect" href="class_d_r_a_m_sim_i_i_1_1_statistics.html" title="stores statistics about this memory system, primarily relating to counts of transactions/commands..." alt="" coords="41,56,193,82"><area shape="rect" href="class_d_r_a_m_sim_i_i_1_1_system_configuration.html" title="stores the system configuration options for a dramSystem" alt="" coords="9,106,225,133"><area shape="rect" href="class_d_r_a_m_sim_i_i_1_1simulation_parameters.html" title="the parameters for the simulation, including where the requests come from and how..." alt="" coords="7,157,228,184"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="class_m5dram_system-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bc049789b7ba009ac06888952383d456"></a><!-- doxytag: member="M5dramSystem::Params" ref="bc049789b7ba009ac06888952383d456" args="" -->
typedef M5dramSystemParams&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#bc049789b7ba009ac06888952383d456">Params</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the parameters used to initialize the memory system object <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#84fc057ba92f2b4259bb6e48dfda6e67">M5dramSystem</a> (const <a class="el" href="class_m5dram_system.html#bc049789b7ba009ac06888952383d456">Params</a> *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">constructor  <a href="#84fc057ba92f2b4259bb6e48dfda6e67"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="17d8fd3640bd4767ca88ace2ac3036b9"></a><!-- doxytag: member="M5dramSystem::getAddressRanges" ref="17d8fd3640bd4767ca88ace2ac3036b9" args="(AddrRangeList &amp;resp, bool &amp;snoop)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#17d8fd3640bd4767ca88ace2ac3036b9">getAddressRanges</a> (AddrRangeList &amp;resp, bool &amp;snoop)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns the address range available in this device <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1525d7f1a5251189661baf1ba2ae67c6"></a><!-- doxytag: member="M5dramSystem::getCPURatio" ref="1525d7f1a5251189661baf1ba2ae67c6" args="() const " -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#1525d7f1a5251189661baf1ba2ae67c6">getCPURatio</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">returns the ratio of the cpu frequency to the memory frequency <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#e6c0544f5199f8479bdba75cf338aa2c">moveToTime</a> (tick now)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">move all channels in this system to the specified time  <a href="#e6c0544f5199f8479bdba75cf338aa2c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4c99c0541618888f5920e6edc7999617"></a><!-- doxytag: member="M5dramSystem::~M5dramSystem" ref="4c99c0541618888f5920e6edc7999617" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#4c99c0541618888f5920e6edc7999617">~M5dramSystem</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">deletes the DRAMsim object <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="84b8962622745c06e42f699da498bd24"></a><!-- doxytag: member="M5dramSystem::unserialize" ref="84b8962622745c06e42f699da498bd24" args="(Checkpoint *cp, const std::string &amp;section)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#84b8962622745c06e42f699da498bd24">unserialize</a> (Checkpoint *cp, const std::string &amp;section)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">restores the memory array after resuming from a checkpoint <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c9871abf81b50f9439a9c1f304f18141"></a><!-- doxytag: member="M5dramSystem::init" ref="c9871abf81b50f9439a9c1f304f18141" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#c9871abf81b50f9439a9c1f304f18141">init</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">initializes the ports of this object <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2c1df40ac4ba1b6ee79a89c36717e6b5"></a><!-- doxytag: member="M5dramSystem::tickEvent" ref="2c1df40ac4ba1b6ee79a89c36717e6b5" args="" -->
TickEvent&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#2c1df40ac4ba1b6ee79a89c36717e6b5">tickEvent</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">instance of TickEvent to allow the wrapper to receive/send events to the global queue <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c74ac86e7c7390068a33e60dfb352427"></a><!-- doxytag: member="M5dramSystem::ports" ref="c74ac86e7c7390068a33e60dfb352427" args="" -->
std::vector&lt; MemoryPort * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#c74ac86e7c7390068a33e60dfb352427">ports</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">ports to send/recv data to other simulator components <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ef2801ef6e3717682ae2e81219c462d1"></a><!-- doxytag: member="M5dramSystem::finishedTransactions" ref="ef2801ef6e3717682ae2e81219c462d1" args="" -->
std::queue&lt; std::pair<br class="typebreak">
&lt; unsigned, tick &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#ef2801ef6e3717682ae2e81219c462d1">finishedTransactions</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">channels will return values as they finish transactions <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8dec460f8036d2885f730687e207624c"></a><!-- doxytag: member="M5dramSystem::lastPortIndex" ref="8dec460f8036d2885f730687e207624c" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#8dec460f8036d2885f730687e207624c">lastPortIndex</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the last port accessed <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ce32ccab57bc7bb099862cb701cc6a34"></a><!-- doxytag: member="M5dramSystem::ds" ref="ce32ccab57bc7bb099862cb701cc6a34" args="" -->
<a class="el" href="class_d_r_a_msim_i_i_1_1_system.html">DRAMsimII::System</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#ce32ccab57bc7bb099862cb701cc6a34">ds</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to the DRAMsimII class <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1c16d57a7d7a3a07c8c0250be821432"></a><!-- doxytag: member="M5dramSystem::needRetry" ref="b1c16d57a7d7a3a07c8c0250be821432" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#b1c16d57a7d7a3a07c8c0250be821432">needRetry</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">if the memory system needs to issue a retry statement before any more requests will come in <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8f2613214d10b04b640bc26db979484b"></a><!-- doxytag: member="M5dramSystem::mostRecentChannel" ref="8f2613214d10b04b640bc26db979484b" args="" -->
unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#8f2613214d10b04b640bc26db979484b">mostRecentChannel</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the most recent channel that a request was sent to <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2fbee1e022242e218e235df762bcd82a"></a><!-- doxytag: member="M5dramSystem::cpuRatio" ref="2fbee1e022242e218e235df762bcd82a" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m5dram_system.html#2fbee1e022242e218e235df762bcd82a">cpuRatio</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the ratio of the cpu frequency to the memory frequency <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
wrapper class to allow M5 to work with DRAMsimII <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="84fc057ba92f2b4259bb6e48dfda6e67"></a><!-- doxytag: member="M5dramSystem::M5dramSystem" ref="84fc057ba92f2b4259bb6e48dfda6e67" args="(const Params *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M5dramSystem::M5dramSystem           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m5dram_system.html#bc049789b7ba009ac06888952383d456">Params</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructor 
<p>
builds a <a class="el" href="class_m5dram_system.html" title="wrapper class to allow M5 to work with DRAMsimII">M5dramSystem</a> object<p>
looks for the settings file and constructs a dramSystem object from that <dl class="author" compact><dt><b>Author:</b></dt><dd>Joe Gross </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>the M5 parameters object to extract parameters from </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a new <a class="el" href="class_m5dram_system.html" title="wrapper class to allow M5 to work with DRAMsimII">M5dramSystem</a> object </dd></dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e6c0544f5199f8479bdba75cf338aa2c"></a><!-- doxytag: member="M5dramSystem::moveToTime" ref="e6c0544f5199f8479bdba75cf338aa2c" args="(tick now)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void M5dramSystem::moveToTime           </td>
          <td>(</td>
          <td class="paramtype">tick&nbsp;</td>
          <td class="paramname"> <em>now</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
move all channels in this system to the specified time 
<p>
tells the channels that nothing arrived since the last wakeup and now, so go do whatever would have happened during this time and return finished transactions note that this should probably only process one event per channel at most so that finished transactions can be returned in a timely fashion <dl class="author" compact><dt><b>Author:</b></dt><dd>Joe Gross </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>now</em>&nbsp;</td><td>the current time </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>src/m5-dramSystem.h<li>src/m5-dramSystem.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jun 2 23:59:55 2009 for DRAMSimII by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
